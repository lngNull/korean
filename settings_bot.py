from aiogram.utils import markdown
from pycbrf.toolbox import ExchangeRates

#============================================================
# –û—Å–Ω–æ–≤–Ω—ã–µ
#============================================================

TG_BOT = '8136160818:AAFLgelGb2X5eh9eiyMOE0ngV2ESiBw2Pw4'


# –ü—Ä–∞–≤–∏–ª—å–Ω–æ: http://–õ–û–ì–ò–ù:–ü–ê–†–û–õ–¨@–ê–π–ü–∏:–ü–û–†–¢
PROXY = 'http://VFpTSF:T05pdE@172.245.188.178:8000'




#============================================================
#–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
#============================================================

#–ì–ª–∞–≤–Ω–∞—è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞

contacts = '–ö–æ–Ω—Ç–∞–∫—Ç—ã'
start_calculation = '–ù–∞—á–∞—Ç—å —Ä–∞—Å—á–µ—Ç'
leave_request = '–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É'
social_media = '–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏'

auto_delivery_text = '–î–æ—Å—Ç–∞–≤–∫–∞ –∞–≤—Ç–æ'
auto_delivery_link = 'https://t.me/c/2345465549/7'

pay_auto_text = '–û–ø–ª–∞—Ç–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è'
pay_auto_link = 'https://t.me/c/2345465549/6'

sey_chat_text = '–ë–æ–ª—Ç–∞–ª–∫–∞'
sey_chat_text_link = 'https://t.me/c/2345465549/5'

purchase_steps_text = '–®–∞–≥–∏ –ø–æ–∫—É–ø–∫–∏'
purchase_steps_link = 'https://t.me/c/2345465549/2'

#================================================================

#–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –ö–æ–Ω—Ç–∞–∫—Ç–æ–≤

first_button_text = 'LiPan Russ'
first_button_link = 'https://t.me/lipan_trade'

second_button_text = 'LiPan Korea'
second_button_link = 'https://t.me/OlegLiMir'


#=================================================================

#–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –°–µ—Ç–∏

youtube_link = 'https://www.youtube.com/@LIPANAUTO'
telegram_link = 'https://t.me/lipan_auto'
instagram_link = 'https://instagram.com/lipan_auto'

#=================================================================




# –†–ê–°–ß–ï–¢ –ü–û –í–í–û–î–ò–ú–´–ú –î–ê–ù–ù–´–ú
async def vrite_data(base):
    rates = ExchangeRates()
    ftamojka_card_no_extra_charge = base['price_to_tamojka']
    tamojka_card_no_extra_charge = f"{ftamojka_card_no_extra_charge:,}".replace(',', '.')

    ftotal_price = base['card_price'] + base['tamojka_card']
    total_price = f"{ftotal_price:,}".replace(',', '.')

    fcustoms_fee = base['customs_fee']
    customs_fee = f"{fcustoms_fee:,}".replace(',', '.')

    return markdown.text(
                f'üí∞ –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤–æ –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫–µ: <b>{total_price}‚ÇΩ</b>',
                '',
                '–í —Ç–æ–º —á–∏—Å–ª–µ —Ä–∞—Å—Ö–æ–¥—ã –≤ <b>–†–§:</b>',
                f'‚ñ™Ô∏è–ï–¥–∏–Ω–∞—è —Ç–∞–º–æ–∂–µ–Ω–Ω–∞—è —Å—Ç–∞–≤–∫–∞ (–ï–¢–°): <b>{tamojka_card_no_extra_charge}‚ÇΩ</b>',
                f'‚ñ™Ô∏è–£—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–±–æ—Ä: <b>{customs_fee}‚ÇΩ</b>',
                '',
                '‚ñ™Ô∏è–ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏, –ø–æ–ª—É—á–µ–Ω–∏–µ –°–ë–ö–¢–°, –≠–ü–¢–°, –≤—ã–≤–æ–∑ –∞–≤—Ç–æ —Å –°–í–•: <b>38.000‚ÇΩ</b>',
                '‚ñ™Ô∏è–ü–†–† ( –ø–æ–≥—Ä—É–∑–æ—á–Ω–æ-—Ä–∞–∑–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã +—Å—Ç–æ–∏–º–æ—Å—Ç—å <b>5</b> –¥–Ω–µ–π –Ω–∞ –°–í–•) <b>–æ—Ç 35.000‚ÇΩ –¥–æ 45.000‚ÇΩ</b>  (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –°–í–•, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –∞–≤—Ç–æ): <b>46.000‚ÇΩ</b>',
                '‚ñ™Ô∏è–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ—Å—Ç–∏–Ω–∏—Ü—ã <b>–û–¢ 4.000—Ä.</b> (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –°–í–•, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –∞–≤—Ç–æ): <b>4.500‚ÇΩ</b>',
                '‚ñ™Ô∏è–£—Å–ª—É–≥–∏ –±—Ä–æ–∫–µ—Ä–∞: <b>21.000‚ÇΩ</b>',
                '‚ñ™Ô∏è–ü–µ—Ä–µ–≥–æ–Ω –∞–≤—Ç–æ –≤ –¢–ö: <b>5.500‚ÇΩ</b>',
                '',
                '–ê —Ç–∞–∫–∂–µ —Ä–∞—Å—Ö–æ–¥—ã –ø–æ <b>–Æ–∂–Ω–æ–π –ö–æ—Ä–µ–µ:</b>',
                '‚ñ™Ô∏è–°—Ç–æ—è–Ω–æ—á–Ω—ã–µ (–ö–æ–º–∏—Å—Å–∏—è –ø–ª–æ—â–∞–¥–∫–∏):<b>‚Ç© 440 000</b>',
                '‚ñ™Ô∏è–ü–µ—Ä–µ–≥–æ–Ω –ø–æ –ö–æ—Ä–µ–µ ( –° –ø–ª–æ—â–∞–¥–∫–∏ –¥–æ –Ω–∞—à–µ–π —Å—Ç–æ—è–Ω–∫–∏, –æ—Ç –Ω–∞—à–µ–π —Å—Ç–æ—è–Ω–∫–∏ –¥–æ –ø–æ—Ä—Ç–∞): <b>‚Ç© 300 000 </b>',
                '‚ñ™Ô∏è–§—Ä–∞–∫—Ç: <b>‚Ç© 960 000 </b>',
                '‚ñ™Ô∏è–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: <b>‚Ç©150 000</b>',
                '‚ñ™Ô∏è–ì–æ—Ä–æ–¥ –¥–æ—Å—Ç–∞–≤–∫–∏: <b>–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫</b>',
                '',
                '–†–∞—Å—á–µ—Ç —Å–æ—Å—Ç–∞–≤–ª–µ–Ω —Å —É—á–µ—Ç–æ–º –∫—É—Ä—Å–∞ –≤–∞–ª—é—Ç:',
                f'- USDT –∫ RUB: <b>{rates['USD'].rate} ‚ÇΩ</b>',
                f'- KRW –∫ RUB <b>{rates['KRW'].rate} ‚ÇΩ</b>',  sep='\n'
                )

#==============================================================================


# –†–ê–°–ß–ï–¢ –ü–û –°–°–´–õ–ö–ï


async def link_data(en_car):
    rates = ExchangeRates()

    ftamoojka = en_car['price_to_tamojka']
    tamojka_pri = f"{ftamoojka:,}".replace(',', '.')


    ftotal_price = en_car['tamojka_card'] + en_car['card_price'] 
    total_price = f"{ftotal_price:,}".replace(',', '.')

    fkorean_price = en_car['price']*10000
    korean_price = f"{fkorean_price:,}".replace(',', '.')

    fprice_no_extra_charge = en_car['price_no_extra_charge']
    price_no_extra_charge = f"{fprice_no_extra_charge:,}".replace(',', '.')

    fmiles = int(en_car['miles'])
    miles = f"{fmiles:,}".replace(',', '.')

    return markdown.text(
        f'–ú–æ–¥–µ–ª—å: <b>{en_car['model_name']} {en_car['model_trim']}</b>',
        '',
        f'‚ñ™Ô∏è–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞: <b>{en_car["year"]}/{en_car["mont"]}</b>',
        f'‚ñ™Ô∏è–ü—Ä–æ–±–µ–≥: <b>{miles} –∫–º</b>',
        f'‚ñ™Ô∏è–¢–æ–ø–ª–∏–≤–æ: <b>{en_car["fuel"]}</b>',
        f'‚ñ™Ô∏è–û–±—ä–µ–º –¥–≤–∏–≥–∞—Ç–µ–ª—è: <b>{en_car["engine_displacement"]} cc</b>',
        f'‚ñ™Ô∏è–¶–µ–Ω–∞: <b>{korean_price} ‚Ç©</b>',
        '',
        f'‚ñ™Ô∏è–°—Ç–æ–∏–º–æ—Å—Ç—å –∞–≤—Ç–æ –≤ —Ä—É–±–ª—è—Ö: <b>{price_no_extra_charge} ‚ÇΩ</b>',
        f'‚ñ™Ô∏è–¢–∞–º–æ–∂–µ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã: <b>{tamojka_pri} ‚ÇΩ</b>',
        '',
        '‚ñ™Ô∏è–°—Ç–æ—è–Ω–æ—á–Ω—ã–µ (–ö–æ–º–∏—Å—Å–∏—è –ø–ª–æ—â–∞–¥–∫–∏):<b>‚Ç© 440 000</b>',
        '‚ñ™Ô∏è–ü–µ—Ä–µ–≥–æ–Ω –ø–æ –ö–æ—Ä–µ–µ ( –° –ø–ª–æ—â–∞–¥–∫–∏ –¥–æ –Ω–∞—à–µ–π —Å—Ç–æ—è–Ω–∫–∏, –æ—Ç –Ω–∞—à–µ–π —Å—Ç–æ—è–Ω–∫–∏ –¥–æ –ø–æ—Ä—Ç–∞): <b>‚Ç© 300 000 </b>',
        '‚ñ™Ô∏è–§—Ä–∞–∫—Ç: <b>‚Ç© 960 000 </b>',
        '‚ñ™Ô∏è–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: <b>‚Ç©150 000</b>',
        '‚ñ™Ô∏è–ì–æ—Ä–æ–¥ –¥–æ—Å—Ç–∞–≤–∫–∏: <b>–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫</b>',
        '',
        f'‚ñ™Ô∏è–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å*: <b>{total_price} ‚ÇΩ</b>',
        f'<i><b>*–° —É—á–µ—Ç–æ–º –Ω–∞—à–µ–π –∫–æ–º–∏—Å—Å–∏–∏</b></i>',
        '',
        f'–ö—É—Ä—Å—ã —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∞–≤—Ç–æ:',
        f'- USDT –∫ KRW: <b>1379.15 ‚ÇΩ</b>',
        f'- USDT –∫ RUB: <b>{rates['USD'].rate} ‚ÇΩ</b>',
        f'- KRW –∫ RUB: <b>{rates['KRW'].rate} ‚ÇΩ</b>',
        '',
        '<i>–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –†–æ—Å—Å–∏–∏ –¥–æ –≤–∞—à–µ–≥–æ –≥–æ—Ä–æ–¥–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ</i>',sep='\n'
        )